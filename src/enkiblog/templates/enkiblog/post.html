{% extends "enkiblog/base.html" %}

{% block article %}

    <article>
        <h1 id="post-title">{{post.title}}</h1>
        <div class="post-meta-info">
            <p id="post-description">
                <strong>{{post.description}}</strong>
            </p>
            <p>{{post.published_at}} by {{post.author.full_name}}</p>
            <ul class="list-inline">
                <li>
                    <h4 class="list-group-item-heading">
                        <span class="glyphicon glyphicon-th-list" aria-hidden="true"></span>
                    </h4>
                </li>
                {% for tag in tags %}
                <li>
                    <!-- <a href="#" class="list"> -->
                        <h4 class="list-group-item-heading">{{ tag }}{{ "," if not loop.last }}</h4>
                    <!-- </a> -->
                </li>
                {% endfor %}
            </uk>
        </div>
        <div id="post-body">
            {{post.body|safe}}
        </div>
    </article>

    <a id="post-prev"
       class="btn btn-default {{ 'disabled' if not prev_link }}"
       href="{{prev_link}}"
       role="button">
       Prev Post
    </a>

    <a id="post-next"
       class="btn btn-default {{ 'disabled' if not next_link }}"
       href="{{next_link}}"
       role="button">
       Next Post
    </a>


{% endblock %}

{% block sidebar %}

    <div class="recent">
        <h3>Recent posts</h3>
        {% for recent_post in recent %}
        <li>
            <a href="{{request.route_url('post', slug=recent_post.slug)}}">
                {{recent_post.title}}
            </a>
            {% for tag in recent_post.tags %}
                {{tag}}
            {% endfor %}
        </li>
        {% endfor %}
        </ul>
    </div>

    <div class="similar">
        <h3>Similar posts</h3>
        {% for similar_post in similar %}
        <li>
            <a href="{{request.route_url('post', slug=similar_post.slug)}}">
                {{similar_post.title}}
                {{similar_post}}
            </a>
            {% for tag in similar_post.tags %}
                {{tag}}
            {% endfor %}
        </li>
        </li>
        {% endfor %}
        </ul>
    </div>

{% endblock %}


{% block extra_body_end %}{{ super() }}
  <script type="text/javascript">
    (function($){
        hljs.initHighlightingOnLoad();
    })(jQuery);
  </script>
{% endblock extra_body_end %}
