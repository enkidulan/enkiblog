box: python:3.5

services:
    - id: postgres
      env:
       POSTGRES_PASSWORD: qwerty
       POSTGRES_USER: enkidulan

build:
  steps:
    - script:
        name: installing dependensies
        code: |
          apt-get install -y firefox
          pip install pip --upgrade
          pip install setuptools --upgrade
          pip install zc.buildout

    - script:
        name: setup env configuration
        code: |
          echo "python version $(python --version) running"
          echo "pip version $(pip --version) running"
          cp buildout.cfg.example buildout.cfg
          echo -e "[buildout]\nextends = profiles/development.cfg\n" > buildout.cfg

    - script:
        name: building
        code: |
          buildout

    - script:
        name: testing
        code: |
          bin/test
